{# expects: rating (0..5) #}
{% with r=rating|floatformat:1 %}
  {% for _ in "12345" %}
    {% with i=forloop.counter %}
      {% if r|floatformat:1 >= i %}
        <span class="star star-full" aria-hidden="true">★</span>
      {% elif r|floatformat:1 >= i|add:"-0.5" %}
        <span class="star star-half" aria-hidden="true">★</span>
      {% else %}
        <span class="star star-empty" aria-hidden="true">☆</span>
      {% endif %}
    {% endwith %}
  {% endfor %}
  <span class="sr-only">{{ r }} out of 5</span>
{% endwith %}
